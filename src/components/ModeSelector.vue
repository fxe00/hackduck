<template>
  <div class="mode-selector">
    <a-radio-group 
      v-model:value="currentMode" 
      button-style="solid"
      @change="handleModeChange"
    >
      <a-radio-button value="burp">Burp Suite</a-radio-button>
      <a-radio-button value="hackbar">HackBar</a-radio-button>
    </a-radio-group>
  </div>
</template>

<script setup lang="ts">
import { ref, watch } from 'vue';

// å®šä¹‰äº‹ä»¶
const emit = defineEmits<{
  modeChange: [mode: 'burp' | 'hackbar']
}>();

// å½“å‰æ¨¡å¼
const currentMode = ref<'burp' | 'hackbar'>('burp');

// å¤„ç†æ¨¡å¼åˆ‡æ¢
const handleModeChange = (e: any) => {
  const mode = e.target.value;
  currentMode.value = mode;
  emit('modeChange', mode);
  console.log('ğŸ”„ Mode changed to:', mode);
};

// æš´éœ²ç»™çˆ¶ç»„ä»¶çš„æ–¹æ³•
defineExpose({
  currentMode,
  setMode: (mode: 'burp' | 'hackbar') => {
    currentMode.value = mode;
  }
});
</script>

<style scoped>
.mode-selector {
  display: flex;
  align-items: center;
  gap: 8px;
}

.mode-selector .ant-radio-group {
  margin: 0;
}
</style>
